<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>一. call和apply的区别是什么，哪个性能更好? | 明天会更好</title>
    <meta name="description" content="tomorrow will be better~">
    <link rel="icon" href="/header.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.c9544cdd.css" as="style"><link rel="preload" href="/assets/js/app.0c76bd52.js" as="script"><link rel="preload" href="/assets/js/2.03f0cc1b.js" as="script"><link rel="preload" href="/assets/js/12.b0f4b58a.js" as="script"><link rel="preload" href="/assets/js/5.270935e6.js" as="script"><link rel="prefetch" href="/assets/js/10.4f559a75.js"><link rel="prefetch" href="/assets/js/11.6ce92c23.js"><link rel="prefetch" href="/assets/js/13.db6f71bf.js"><link rel="prefetch" href="/assets/js/14.3ab7d458.js"><link rel="prefetch" href="/assets/js/15.17863282.js"><link rel="prefetch" href="/assets/js/16.1c99e743.js"><link rel="prefetch" href="/assets/js/17.2ae9d4b3.js"><link rel="prefetch" href="/assets/js/18.5876edfe.js"><link rel="prefetch" href="/assets/js/19.0074b43b.js"><link rel="prefetch" href="/assets/js/20.c10f1054.js"><link rel="prefetch" href="/assets/js/21.1c311ead.js"><link rel="prefetch" href="/assets/js/22.eaaa9b89.js"><link rel="prefetch" href="/assets/js/3.9c2c4fd8.js"><link rel="prefetch" href="/assets/js/4.55ec5b3f.js"><link rel="prefetch" href="/assets/js/6.ab8378f4.js"><link rel="prefetch" href="/assets/js/7.9d31a565.js"><link rel="prefetch" href="/assets/js/8.7235fa02.js"><link rel="prefetch" href="/assets/js/9.39defa39.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c9544cdd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">明天会更好</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习" class="dropdown-title"><span class="title">学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/javascript/预解析.html" class="nav-link">javascript</a></li><li class="dropdown-subitem"><a href="/vue/" class="nav-link">vue</a></li></ul></li><li class="dropdown-item"><h4>后端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/php/" class="nav-link">php</a></li><li class="dropdown-subitem"><a href="/服务器/apache/" class="nav-link">服务器</a></li></ul></li><li class="dropdown-item"><h4>数据结构与算法</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/数据结构与算法/数据结构/" class="nav-link">数据结构</a></li><li class="dropdown-subitem"><a href="/数据结构与算法/算法/" class="nav-link">算法</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/xiaoqingb" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习" class="dropdown-title"><span class="title">学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/javascript/预解析.html" class="nav-link">javascript</a></li><li class="dropdown-subitem"><a href="/vue/" class="nav-link">vue</a></li></ul></li><li class="dropdown-item"><h4>后端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/php/" class="nav-link">php</a></li><li class="dropdown-subitem"><a href="/服务器/apache/" class="nav-link">服务器</a></li></ul></li><li class="dropdown-item"><h4>数据结构与算法</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/数据结构与算法/数据结构/" class="nav-link">数据结构</a></li><li class="dropdown-subitem"><a href="/数据结构与算法/算法/" class="nav-link">算法</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/xiaoqingb" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/javascript/预解析" class="sidebar-heading clickable open"><span>JavaScript</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/javascript/interview-question.html" class="active sidebar-link">零散面试题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/interview-question.html#_1-箭头函数和普通函数的区别" class="sidebar-link">1. 箭头函数和普通函数的区别</a></li><li class="sidebar-sub-header"><a href="/javascript/interview-question.html#_1-手写each方法" class="sidebar-link">1. 手写each方法</a></li><li class="sidebar-sub-header"><a href="/javascript/interview-question.html#_2-原生indexof方法" class="sidebar-link">2. 原生indexOf方法</a></li><li class="sidebar-sub-header"><a href="/javascript/interview-question.html#_3-实现一个-attr-name-value-遍历" class="sidebar-link">3. 实现一个$attr(name,value)遍历</a></li><li class="sidebar-sub-header"><a href="/javascript/interview-question.html#_1-属性方法" class="sidebar-link">1.属性方法</a></li><li class="sidebar-sub-header"><a href="/javascript/interview-question.html#_2-对象属性名只能是字符串或者数字" class="sidebar-link">2. 对象属性名只能是字符串或者数字</a></li><li class="sidebar-sub-header"><a href="/javascript/interview-question.html#_1-手写一个new方法" class="sidebar-link">1. 手写一个new方法</a></li><li class="sidebar-sub-header"><a href="/javascript/interview-question.html#_1-关于数组判断" class="sidebar-link">1. 关于数组判断</a></li><li class="sidebar-sub-header"><a href="/javascript/interview-question.html#_2-数组扁平化并去重" class="sidebar-link">2. 数组扁平化并去重</a></li><li class="sidebar-sub-header"><a href="/javascript/interview-question.html#_3-数组连接" class="sidebar-link">3.数组连接</a></li><li class="sidebar-sub-header"><a href="/javascript/interview-question.html#_1-手写url正则表达式" class="sidebar-link">1. 手写url正则表达式</a></li><li class="sidebar-sub-header"><a href="/javascript/interview-question.html#_2-例题" class="sidebar-link">2.例题</a></li><li class="sidebar-sub-header"><a href="/javascript/interview-question.html#_3-正反向预查" class="sidebar-link">3. 正反向预查</a></li><li class="sidebar-sub-header"><a href="/javascript/interview-question.html#_1-匿名函数" class="sidebar-link">1. 匿名函数</a></li><li class="sidebar-sub-header"><a href="/javascript/interview-question.html#_1-严格相等运算符" class="sidebar-link">1. === 严格相等运算符</a></li><li class="sidebar-sub-header"><a href="/javascript/interview-question.html#_2-相等运算符" class="sidebar-link">2. == 相等运算符</a></li><li class="sidebar-sub-header"><a href="/javascript/interview-question.html#_3-运算符" class="sidebar-link">3. 运算符</a></li><li class="sidebar-sub-header"><a href="/javascript/interview-question.html#_4-a" class="sidebar-link">4. a++</a></li></ul></li><li><a href="/javascript/预解析.html" class="sidebar-link">预解析</a></li><li><a href="/javascript/设计模式.html" class="sidebar-link">设计模式</a></li></ul></section></li><li><a href="/vue/" class="sidebar-link">Vue</a></li><li><a href="/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95/" class="sidebar-link">算法</a></li><li><a href="/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="sidebar-link">数据结构</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>服务器</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/%E5%85%B6%E4%BD%99/" class="sidebar-link">其余</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="一-call和apply的区别是什么，哪个性能更好"><a href="#一-call和apply的区别是什么，哪个性能更好" class="header-anchor">#</a> 一. call和apply的区别是什么，哪个性能更好?</h1> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol><li><p>这两个都是间接调用</p></li> <li><p>可以改变this指向obj</p></li> <li><p>都是fn.prototype上的方法</p></li> <li><p>call的参数只能一个个传递，而apply只能传递一个数组</p></li> <li><p>传参三个以内，call会好一点，而三个以上apply性能更好</p></li> <li><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
obj<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">s<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//x=1 y=2 z=3</span>
<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//x=[1,2,3] y=z=underfined</span>
<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// x=1,y=2,z=3</span>
</code></pre></div></li></ol> <h1 id="二-自己实现一个性能测试工具"><a href="#二-自己实现一个性能测试工具" class="header-anchor">#</a> 二. 自己实现一个性能测试工具</h1> <p>方法1:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">)</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token operator">&lt;</span><span class="token number">1000</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">)</span> <span class="token comment">// xxx：1 毫秒 - 倒计时结束</span>
</code></pre></div><p>方法二:</p> <p>用火狐浏览器安装FireBug</p> <div class="language- extra-class"><pre class="language-text"><code>console.profile()
for(let i=1;i++&lt;1000;){}
console.profileEnd()
</code></pre></div><h1 id="三-如何在数字上面调用方法"><a href="#三-如何在数字上面调用方法" class="header-anchor">#</a> 三. 如何在数字上面调用方法</h1> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">~</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">//接收数字前要进行检查</span>
	<span class="token keyword">function</span> <span class="token function">check</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		n <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token function">isNaN</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> n
	<span class="token punctuation">}</span>
	<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		a <span class="token operator">=</span> <span class="token function">check</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    	<span class="token keyword">return</span> <span class="token keyword">this</span> <span class="token operator">+</span> a		
	<span class="token punctuation">}</span>
	<span class="token keyword">function</span> <span class="token function">minums</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		a <span class="token operator">=</span> <span class="token function">check</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span> <span class="token operator">-</span> a
	<span class="token punctuation">}</span>
	<span class="token punctuation">[</span><span class="token string">&quot;add&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;minus&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
		<span class="token class-name">Number</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token comment">//下面和上面forEach等价</span>
	<span class="token comment">//Number.prototype.add = add</span>
	<span class="token comment">//Number.prototype.minus = minus</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">minus</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>
</code></pre></div><h1 id="四-es6"><a href="#四-es6" class="header-anchor">#</a> 四 . es6</h1> <h2 id="_1-箭头函数和普通函数的区别"><a href="#_1-箭头函数和普通函数的区别" class="header-anchor">#</a> 1. 箭头函数和普通函数的区别</h2> <ol><li><p>语法简洁</p> <div class="language- extra-class"><pre class="language-text"><code>function fn(a) {
	return function (y) {
	reuturn x + y
	}
}
let fn = x =&gt; y =&gt; x + y
</code></pre></div></li> <li><p>this指向继承函数所处上下文的this(call和apply都无法改变this)</p></li> <li><p>箭头函数中没人arguments，只能通过..arg获取传递的参数</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span> 
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">//  报错:arguments is not defined</span>
<span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>arg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span> 
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// [1,2,3]</span>
</code></pre></div></li> <li><p>箭头函数不能被new执行，因为箭头函数没有this也没有prototype</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token keyword">let</span> <span class="token function-variable function">ac</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  	<span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token operator">=</span><span class="token number">1111</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> zzz<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">bbb</span> <span class="token comment">//Uncaught TypeError: bbb is not a constructor</span>
 <span class="token function">dir</span><span class="token punctuation">(</span>ac<span class="token punctuation">)</span>
<span class="token comment">//ac()</span>
<span class="token comment">//arguments: (...)</span>
<span class="token comment">//caller: (...)</span>
<span class="token comment">//length: 0</span>
<span class="token comment">//name: &quot;ac&quot;</span>
<span class="token comment">//__proto__: ƒ ()</span>
<span class="token comment">//[[FunctionLocation]]: VM1094:1</span>
<span class="token comment">//[[Scopes]]: Scopes[2]</span>
<span class="token comment">//找不到prototype</span>
</code></pre></div></li></ol> <h1 id="五-原生方法"><a href="#五-原生方法" class="header-anchor">#</a> 五. 原生方法</h1> <h2 id="_1-手写each方法"><a href="#_1-手写each方法" class="header-anchor">#</a> 1. 手写each方法</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> Arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'aa'</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">]</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">each</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span>callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'aa'</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">callback</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
Arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>Arr<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> item <span class="token operator">*</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
	
</code></pre></div><h2 id="_2-原生indexof方法"><a href="#_2-原生indexof方法" class="header-anchor">#</a> 2. 原生indexOf方法</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> str1 <span class="token operator">=</span> <span class="token string">'XiaoQingbBBbqinGxiAo小庆BB!于哒哒哒'</span>
<span class="token keyword">let</span> str2 <span class="token operator">=</span> <span class="token string">'BB'</span><span class="token punctuation">;</span>
<span class="token operator">~</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">myIndexOf</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">A</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token constant">A</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//---------------------------------</span>
            <span class="token keyword">let</span> <span class="token constant">B</span><span class="token operator">=</span><span class="token string">''</span> <span class="token comment">// 每次生成的匹配字符串</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>j <span class="token operator">&lt;</span> <span class="token constant">A</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token constant">B</span> <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token operator">+</span>j<span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//--------------------------------</span>
            <span class="token comment">// 可使用this.substr(i,A.length)代替</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">B</span> <span class="token operator">===</span> <span class="token constant">A</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> i <span class="token comment">//返回索引</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span> <span class="token comment">//不存在返回null</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>myIndexOf<span class="token operator">=</span>myIndexOf<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span><span class="token function">myIndexOf</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span>


</code></pre></div><p>用正则表达式</p> <div class="language- extra-class"><pre class="language-text"><code> function myIndexOf(A) {
        let reg = new RegExp(T),
        	res = reg.exec(this)
        return res === null ? -1 :res.index;
    }
</code></pre></div><h2 id="_3-实现一个-attr-name-value-遍历"><a href="#_3-实现一个-attr-name-value-遍历" class="header-anchor">#</a> 3. 实现一个$attr(name,value)遍历</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> ary <span class="token operator">=</span> <span class="token function">$attr</span><span class="token punctuation">(</span><span class="token string">'class'</span><span class="token punctuation">,</span><span class="token string">'box'</span><span class="token punctuation">)</span>  <span class="token comment">// 获取属性class为box的所有元素</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;AA&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;box&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;AA&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>span id<span class="token operator">=</span><span class="token string">&quot;AA&quot;</span> data<span class="token operator">-</span>info<span class="token operator">=</span><span class="token string">'CC'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div data<span class="token operator">-</span>info<span class="token operator">=</span><span class="token string">'BB'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div data<span class="token operator">-</span>info<span class="token operator">=</span><span class="token string">'CC'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div data<span class="token operator">-</span>info<span class="token operator">=</span><span class="token string">'CC'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;box&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
        <span class="token keyword">function</span> <span class="token function">attr</span><span class="token punctuation">(</span><span class="token parameter">property<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// 存储了所有的标签</span>
            <span class="token keyword">let</span> elements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>elements<span class="token punctuation">)</span>
            <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            elements<span class="token operator">=</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>elements<span class="token punctuation">)</span>
            elements<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">// 存储当前元素的property对应属性值</span>
                <span class="token keyword">let</span> itemValue <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span>property<span class="token punctuation">)</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>property <span class="token operator">===</span> <span class="token string">'class'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token comment">// class做特殊处理</span>
                    <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;\\b&quot;</span><span class="token operator">+</span>value<span class="token operator">+</span><span class="token string">&quot;\\b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>itemValue<span class="token punctuation">)</span> <span class="token operator">?</span> arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">null</span>
                    <span class="token keyword">return</span> 

                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>itemValue <span class="token operator">===</span> value <span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token comment">// 匹配成功</span>
                    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>  
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 对返回值进行处理</span>
            <span class="token keyword">return</span> arr<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> arr
        <span class="token punctuation">}</span>
        <span class="token keyword">let</span> result<span class="token operator">=</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'data-info'</span><span class="token punctuation">,</span><span class="token string">'CC'</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h1 id="六-对象"><a href="#六-对象" class="header-anchor">#</a> 六. 对象</h1> <h2 id="_1-属性方法"><a href="#_1-属性方法" class="header-anchor">#</a> 1.属性方法</h2> <table><thead><tr><th>Object</th> <th></th></tr></thead> <tbody><tr><td>.getOwnPropertyDescriptor(obj, prop)</td> <td>读取属性的描述对象</td></tr> <tr><td>.defineProperty(obj, prop, descriptor)</td> <td>定义或修改属性</td></tr> <tr><td></td> <td></td></tr></tbody></table> <ol><li><p><strong>Object.defineProperty()</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 数据描述符</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  enumerable<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  
    <span class="token comment">// 默认false,不可枚举</span>
  	<span class="token comment">//有四个操作会忽略enumerable为false的属性</span>
    <span class="token comment">//for...in循环：只遍历对象自身的和继承的可枚举的属性。</span>
    <span class="token comment">//Object.keys()：返回对象自身的所有可枚举的属性的键名。</span>
    <span class="token comment">//JSON.stringify()：只串行化对象自身的可枚举的属性。</span>
    <span class="token comment">//Object.assign()： 忽略enumerable为false的属性，只拷贝对象自身的可枚举的属性。</span>
  configurable<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> 
    <span class="token comment">// 默认false,不能设置重新描述符</span>
  writable<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> 
    <span class="token comment">// 默认false,不能重写value</span>
    <span class="token comment">// 为true时，value才能被赋值运算符=改变</span>
  value<span class="token punctuation">:</span> <span class="token string">&quot;static&quot;</span> 
    <span class="token comment">// 值   key：value</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>key<span class="token operator">=</span><span class="token string">'static'</span><span class="token comment">// 等价于上面</span>

<span class="token comment">// 存取描述符</span>
<span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> 
<span class="token comment">// 在对象中添加一个属性与存取描述符的示例</span>
<span class="token keyword">var</span> bValue<span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">get</span> <span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> bValue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">set</span> <span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newValue</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    bValue <span class="token operator">=</span> newValue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  enumerable <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//这两个描述符是公用的</span>
  configurable <span class="token punctuation">:</span> <span class="token boolean">true</span>  <span class="token comment">//这两个描述符是公用的</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ol> <h2 id="_2-对象属性名只能是字符串或者数字"><a href="#_2-对象属性名只能是字符串或者数字" class="header-anchor">#</a> 2. 对象属性名只能是字符串或者数字</h2> <p>当将一个对象作为属性名的时候，属性名会被转化成字符串</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
b<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>  <span class="token comment">// {[object Object]: 1}</span>
b<span class="token punctuation">[</span>c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">111</span>      
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>  <span class="token comment">// {[object Object]: 1, '1,2,3': 111} </span>
<span class="token comment">//在这个过程对象都调用了obj.toString()方法返回一个字符串</span>
</code></pre></div><p>字符串和数字属性名会重叠！</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">123</span>
a<span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token string">'b'</span>
a<span class="token punctuation">[</span>c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'c'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// {123: &quot;c&quot;}</span>
</code></pre></div><p>Symbol不会重叠，因为他是唯一的</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span>
a<span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token string">'b'</span>
a<span class="token punctuation">[</span>c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'c'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>   <span class="token comment">//{Symbol(123): &quot;b&quot;, Symbol(123): &quot;c&quot;}</span>
</code></pre></div><p>就算重复声明相同的变量也是唯一的</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
a<span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token string">'b'</span>
a<span class="token punctuation">[</span>c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'c'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment">//{Symbol(123): &quot;b&quot;, Symbol(123): &quot;c&quot;}</span>
<span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token operator">&gt;</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>  <span class="token comment">// false</span>
</code></pre></div><h2 id="_1-手写一个new方法"><a href="#_1-手写一个new方法" class="header-anchor">#</a> 1. 手写一个new方法</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// let jinmao = new DOMStringList('金毛')</span>
<span class="token comment">/*  new的过程发生了
    1. 像普通函数一样，形成一个私有作用域
     +形参赋值
     +变量提升
    2. 默认创建一个对象，让函数中的this执行这个对象，这个对象就是当前
      类的一个实例
    3. 代码执行
    4. 默认把创建的对象返回
*/</span>
<span class="token keyword">function</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>
<span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">bark</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'汪汪汪'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'i am'</span><span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">_new</span><span class="token punctuation">(</span><span class="token parameter">Fn<span class="token punctuation">,</span><span class="token operator">...</span>arg</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> obj<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype
    <span class="token function">Fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token operator">...</span>arg<span class="token punctuation">)</span>
    <span class="token keyword">return</span> obj
<span class="token punctuation">}</span>
<span class="token keyword">let</span> jinmao <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">'金毛'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jinmao<span class="token punctuation">)</span>
jinmao<span class="token punctuation">.</span><span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
jinmao<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h1 id="七-数组"><a href="#七-数组" class="header-anchor">#</a> 七. 数组</h1> <p>学过的方法</p> <table><thead><tr><th>Array</th> <th></th></tr></thead> <tbody><tr><td>.isArray(es6)</td> <td>ture/false</td></tr> <tr><td>.from(es6)</td> <td>把类数组对象转化成数组</td></tr> <tr><td>...</td> <td>展开符，用来函数传参</td></tr> <tr><td>concat</td> <td>数组链接</td></tr> <tr><td>shift</td> <td>删除并返回一项，原数组改变</td></tr> <tr><td></td> <td></td></tr></tbody></table> <h2 id="_1-关于数组判断"><a href="#_1-关于数组判断" class="header-anchor">#</a> 1. 关于数组判断</h2> <p>判断一个变量是否是数组的方法有以下</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span>  <span class="token comment">// 方法一  </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">// 方法二 最佳！！</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'[object Array]'</span><span class="token punctuation">)</span><span class="token comment">//方法三</span>
<span class="token comment">//上面三个方法都是返回true</span>
</code></pre></div><h2 id="_2-数组扁平化并去重"><a href="#_2-数组扁平化并去重" class="header-anchor">#</a> 2. 数组扁平化并去重</h2> <p>方法一 Flat es6新语法 Array.prototype.flat()</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">44</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">123</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">221</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">44</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">var</span> arr<span class="token operator">=</span>arr<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span>  
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArray<span class="token punctuation">)</span> <span class="token comment">//[1,2,3,4,2,44,123,221,31,44]</span>
<span class="token comment">// 用new Set去重</span>
arr<span class="token operator">=</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>a<span class="token operator">-</span>b<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
</code></pre></div><p>方法二 toString()</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
<span class="token comment">// 1,3,2,4,5,6,7</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   
<span class="token comment">//[&quot;1&quot;, &quot;3&quot;, &quot;2&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;]</span>
arr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>  
<span class="token comment">// [1, 3, 2, 4, 5, 6, 7]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>a<span class="token operator">-</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token comment">//[1, 2, 3, 4, 5, 6, 7]</span>
</code></pre></div><p>方法三JSON.stringify()</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">44</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">123</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">221</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">44</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
arr<span class="token operator">=</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(\[|\])/g</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token comment">// 1,2,3,4,2,44,123,221,31,44</span>
arr<span class="token operator">=</span>arr<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
<span class="token comment">// [1, 2, 3, 4, 2, 44, 123, 221, 31, 44]</span>
arr<span class="token operator">=</span>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>a<span class="token operator">-</span>b<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> 
<span class="token comment">// [1, 2, 2, 3, 4, 31, 44, 44, 123, 221]</span>
</code></pre></div><p>方法四  concat +...</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">111</span><span class="token punctuation">,</span><span class="token number">222</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span>   
<span class="token punctuation">}</span>
<span class="token comment">//  [1, 2, 3, 4, 15, 5, 25, 111, 222]</span>
arr<span class="token operator">=</span>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>a<span class="token operator">-</span>b
</code></pre></div><p>方法五  递归</p> <div class="language- extra-class"><pre class="language-text"><code>let arr= [[1,2,3,4],2,44,[123,[221,31,44]]]
~function(){
	function myFlat(){
        let result = []
        _this = this
        // 循环arr,把不是数组的值push到新数组中
        let fn=(arr)=&gt;{
            for(let i=0; i&lt;arr.length; i++){
                let item = arr[i]
                if(Array.isArray(item)){
                    fn(item)
                    continue
                } 
                result.push(item)
            }
        }
        fn(_this)
        return result
    }
    Array.prototype.myFlat=myFlat
}(); 
arr=arr.myFlat()
arr=arr.sort((a,b)=&gt;a-b)
</code></pre></div><h2 id="_3-数组连接"><a href="#_3-数组连接" class="header-anchor">#</a> 3.数组连接</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr1<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'A1'</span><span class="token punctuation">,</span><span class="token string">'A2'</span><span class="token punctuation">,</span><span class="token string">'B1'</span><span class="token punctuation">,</span><span class="token string">'B2'</span><span class="token punctuation">,</span><span class="token string">'C1'</span><span class="token punctuation">,</span><span class="token string">'C2'</span><span class="token punctuation">,</span><span class="token string">'D1'</span><span class="token punctuation">,</span><span class="token string">'D2'</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> arr2<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">,</span><span class="token string">'D'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//合并后的数组为:['A1','A2','A','B1','B2','B','C1','C2','C','D1','D2','D']</span>
arr2 <span class="token operator">=</span> arr2<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span>item <span class="token operator">+</span> <span class="token string">'巴拉'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> arr1<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span>
arr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>a<span class="token punctuation">.</span><span class="token function">localeCompare</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> item<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'巴拉'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>

<span class="token keyword">let</span> arr3<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'B1'</span><span class="token punctuation">,</span><span class="token string">'B2'</span><span class="token punctuation">,</span><span class="token string">'A1'</span><span class="token punctuation">,</span><span class="token string">'A2'</span><span class="token punctuation">,</span><span class="token string">'C1'</span><span class="token punctuation">,</span><span class="token string">'C2'</span><span class="token punctuation">,</span><span class="token string">'D1'</span><span class="token punctuation">,</span><span class="token string">'D2'</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> arr4<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">,</span><span class="token string">'D'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//合并后的数组为:['B1','B2','B','A1','A2','A','C1','C2','C','D1','D2','D']</span>
<span class="token keyword">let</span> n<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> arr4<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 先拿出第二个数组的每一项</span>
    <span class="token keyword">let</span> item4<span class="token operator">=</span>arr4<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j <span class="token operator">&lt;</span> arr3<span class="token punctuation">.</span>length<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 再拿出第一个数组的每一项</span>
        <span class="token keyword">let</span> item3<span class="token operator">=</span>arr3<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
        <span class="token comment">//判断item3是否包含item4</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>item3<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>item4<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 是的话可以拿出item3在arr3的下标</span>
            n <span class="token operator">=</span> j<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 数组插入</span>
    arr3<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>item4<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr3<span class="token punctuation">)</span>
</code></pre></div><h1 id="八-正则表达式"><a href="#八-正则表达式" class="header-anchor">#</a> 八. 正则表达式</h1> <h2 id="_1-手写url正则表达式"><a href="#_1-手写url正则表达式" class="header-anchor">#</a> 1. 手写url正则表达式</h2> <p>验证内容：</p> <ol><li><p>协议</p></li> <li><p>域名</p></li> <li><p>请求路径</p> <p>/index.html</p> <p>/stu/index.html</p> <p>/stu/</p></li> <li><p>问号传参</p> <table><thead><tr><th>1.协议</th> <th>2.域名</th></tr></thead> <tbody><tr><td>http/https/ftp/file</td> <td>www.baidu.com</td></tr> <tr><td>问号传参</td> <td>baidu.cn</td></tr> <tr><td>？xxx=xxx&amp;xxx=xxx</td> <td>baidu.tupian.com</td></tr> <tr><td>请求路径</td> <td>baidu.com.cn</td></tr> <tr><td>/index.html</td> <td>www.baidu.com</td></tr></tbody></table> <table><thead><tr><th>3.请求路径</th> <th>4.问号传参</th></tr></thead> <tbody><tr><td>/index.html</td> <td>？xxx=xxx&amp;aaa=aaa</td></tr> <tr><td>/stu/index.html</td> <td>5.哈希值#xxxx3333</td></tr></tbody></table> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&quot;http://www.zhufengpeixun.cn/index.html?page=1&amp;id=123#video&quot;</span>
<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex">/^(?:(http|https|ftp|file):\/\/)?((?:[\w-]+\.)+[a-z0-9]+)((\/[^/?#]*)+)?(\?[^#]+)?(#.+)?$/i</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//输出结果</span>
<span class="token comment">//0: &quot;http://www.zhufengpeixun.cn/index/index.html?page=1&amp;id=123#video&quot;</span>
<span class="token comment">//1: &quot;http&quot;</span>
<span class="token comment">//2: &quot;www.zhufengpeixun.cn&quot;</span>
<span class="token comment">//3: &quot;/index/index.html&quot;</span>
<span class="token comment">//4: &quot;/index.html&quot;</span>
<span class="token comment">//5: &quot;?page=1&amp;id=123&quot;</span>
<span class="token comment">//6: &quot;#video&quot;</span>
</code></pre></div></li></ol> <h2 id="_2-例题"><a href="#_2-例题" class="header-anchor">#</a> 2.例题</h2> <h3 id="（1）-把一个字符串的大小写取反"><a href="#（1）-把一个字符串的大小写取反" class="header-anchor">#</a> （1） 把一个字符串的大小写取反</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'XiaoQingbBBbqinGxiAo小庆!于哒哒哒'</span>
bbb <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/[a-zA-Z]/g</span><span class="token punctuation">,</span><span class="token parameter">content</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> content<span class="token punctuation">.</span><span class="token function">toLocaleLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">===</span>content<span class="token operator">?</span>     content<span class="token punctuation">.</span><span class="token function">toLocaleUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>content<span class="token punctuation">.</span><span class="token function">toLocaleLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="（2）一个包含中英文的字符串中，给英文单词前后加空格"><a href="#（2）一个包含中英文的字符串中，给英文单词前后加空格" class="header-anchor">#</a> （2）一个包含中英文的字符串中，给英文单词前后加空格</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'no作no代abc'</span>
<span class="token keyword">let</span> reg <span class="token operator">=</span><span class="token regex">/\b[a-zA-Z]+\b/ig</span>
str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span><span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token string">' '</span><span class="token operator">+</span> value <span class="token operator">+</span><span class="token string">' '</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>  <span class="token comment">//no 作 no 代 abc</span>
</code></pre></div><h2 id="_3-正反向预查"><a href="#_3-正反向预查" class="header-anchor">#</a> 3. 正反向预查</h2> <h3 id="正向"><a href="#正向" class="header-anchor">#</a> 正向</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token operator">/</span><span class="token function">xiaoqing</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">=</span>b<span class="token punctuation">)</span><span class="token operator">/</span>    <span class="token comment">//(?=b)意思就是只能匹配后面带b的xiaoqing</span>
<span class="token keyword">let</span> str1 <span class="token operator">=</span><span class="token string">'xiaoqingb'</span>
<span class="token keyword">let</span> str2 <span class="token operator">=</span><span class="token string">'xiaoqinga'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 匹配到了xiaoqing</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// null</span>
</code></pre></div><p>例子：</p> <h3 id="反向"><a href="#反向" class="header-anchor">#</a> 反向</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token operator">/</span><span class="token function">xiaoqing</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">!</span>b<span class="token punctuation">)</span><span class="token operator">/</span>    <span class="token comment">//(?!b)匹配到的xiaoqing后面绝对不能有个b</span>
<span class="token keyword">let</span> str1 <span class="token operator">=</span><span class="token string">'xiaoqingb'</span>
<span class="token keyword">let</span> str2 <span class="token operator">=</span><span class="token string">'xiaoqinga'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// null</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 匹配到了xiaoqing</span>

</code></pre></div><p>例子：</p> <ol><li><p>一个6-16位的字符串，必须同时包含有大小写字母和数字</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> reg<span class="token operator">=</span><span class="token regex">/(?!^[a-zA-Z]+$)(?!^[0-9A-Z]+$)(?!^[0-9a-z]+$)^[a-zA-Z0-9]{6,16}$/</span>
<span class="token keyword">let</span> str<span class="token operator">=</span><span class="token string">'xiaoqingB123'</span>
<span class="token keyword">let</span> str1<span class="token operator">=</span><span class="token string">'123123123'</span>
<span class="token keyword">let</span> str2<span class="token operator">=</span>'xiaoqing11
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//ture</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
</code></pre></div></li></ol> <p>​	2.一个1-10位的字符串，必须含有下划线</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> reg<span class="token operator">=</span><span class="token regex">/(?!^[a-zA-Z0-9]$)^\w{1,10}$/</span>
<span class="token keyword">let</span> str<span class="token operator">=</span><span class="token string">'123_aaa'</span>
<span class="token keyword">let</span> str1<span class="token operator">=</span><span class="token string">'12345aaa'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">//false</span>
</code></pre></div><h1 id="九-原型链"><a href="#九-原型链" class="header-anchor">#</a> 九. 原型链</h1> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	Foo<span class="token punctuation">.</span><span class="token function-variable function">a</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">a</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//把Foo当做类，在原型上设置实例共有的属性方法 =&gt; 实例.a()</span>
<span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">a</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//把Foo当做普通对象设置私有属性方法 =&gt; Foo.a()</span>
Foo<span class="token punctuation">.</span><span class="token function-variable function">a</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
Foo<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//4</span>
<span class="token keyword">let</span> obj<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Foo.a:fn=&gt;1 obj.a:fn=&gt;2</span>
obj<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//2</span>
Foo<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//1</span>
</code></pre></div><h1 id="十-懒加载"><a href="#十-懒加载" class="header-anchor">#</a> 十. 懒加载</h1> <ol><li><p>把所有需要延迟加载的图片用一个盒子宝丽来，设置宽高和默认占位图</p></li> <li><p>页面初始化时候回所有imdesrc都为空，把真实图片的地址方法img的自定义属性上，让img隐藏</p></li> <li><p>等到所有其他资源都加载完成后，我们再开始加载图片</p></li> <li><p>对于很多图片需要当页面滚动的时候，当前图片区域完全显示出来后再加载真实图片</p> <h5 id="用jquery实现"><a href="#用jquery实现" class="header-anchor">#</a> 用jquery实现</h5> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">&quot;viewport&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">&quot;X-UA-Compatible&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;ie=edge&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>图片的懒加载<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;http://code.jquery.com/jquery-2.1.1.min.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
        <span class="token operator">*</span><span class="token punctuation">{</span>
            margin<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
            padding<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">.</span>container<span class="token punctuation">{</span>
            margin<span class="token punctuation">:</span> <span class="token number">0</span> auto<span class="token punctuation">;</span>
            width<span class="token punctuation">:</span> <span class="token number">500</span>px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">.</span>imgBox<span class="token punctuation">{</span>
            height<span class="token punctuation">:</span> <span class="token number">200</span>px<span class="token punctuation">;</span>
            overflow<span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
            background<span class="token punctuation">:</span> #ccc<span class="token punctuation">;</span>
            margin<span class="token punctuation">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">.</span>imgBox img<span class="token punctuation">{</span>
            display<span class="token punctuation">:</span> none<span class="token punctuation">;</span>
            width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;container&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
        <span class="token keyword">let</span> $window<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span>
        <span class="token keyword">let</span> $container<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.container'</span><span class="token punctuation">)</span>
        <span class="token keyword">let</span> str<span class="token operator">=</span><span class="token string">''</span>
        <span class="token keyword">let</span> i <span class="token operator">=</span><span class="token number">0</span>
        <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            i<span class="token operator">++</span><span class="token punctuation">;</span>
            str<span class="token operator">+=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">  &lt;div class=&quot;imgBox&quot;&gt;
                        &lt;img id=&quot;</span><span class="token template-punctuation string">`</span></span><span class="token operator">+</span>i<span class="token operator">+</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&quot; src=&quot;&quot; data-img=&quot;http://pic-bucket.ws.126.net/photo/0025/2019-11-29/EV4QKGLP0BGT0025NOS.jpg&quot;&gt; 
                    &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        $container<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
        $imgBoxs<span class="token operator">=</span>$container<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token string">'.imgBox'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'load scroll'</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// 获取浏览器底边的距离</span>
            <span class="token keyword">let</span> $heightB<span class="token operator">=</span>$window<span class="token punctuation">.</span><span class="token function">outerHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>$window<span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token comment">// 循环每一个图片区域，计算各自到顶部的距离</span>
            $imgBoxs<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span>item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                <span class="token keyword">let</span> $item<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">,</span>
                    $heightA<span class="token operator">=</span>$item<span class="token punctuation">.</span><span class="token function">outerHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>$item<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>top<span class="token punctuation">,</span>
                    isLoad<span class="token operator">=</span>$item<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'isLoad'</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>$heightA<span class="token operator">&lt;=</span>$heightB <span class="token operator">&amp;&amp;</span> isLoad <span class="token operator">!==</span><span class="token string">'true'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token comment">// 加载图片</span>
                    $img<span class="token operator">=</span>$item<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// $img.on('load', ()=&gt;{</span>
                    <span class="token comment">//     // 渐变效果</span>
                        <span class="token comment">// $img.css('display','block')</span>
                        $img<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fadeIn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token comment">// console.log($img)</span>
                    <span class="token comment">// });</span>
                    $img<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">,</span> $img<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'data-img'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    $item<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'isLoad'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre></div><h1 id="十一-异步"><a href="#十一-异步" class="header-anchor">#</a> 十一. 异步</h1> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">100</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 输出100个100</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">20000</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 输出20000个20000</span>

<span class="token comment">// 如果要输出1到一百，应该在函数里形成一个闭包</span>
闭包<span class="token number">1</span>：
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">100</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token operator">~</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
闭包<span class="token number">2</span><span class="token punctuation">:</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">100</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token operator">=&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 也可以这样</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">100</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="十一-函数"><a href="#十一-函数" class="header-anchor">#</a> 十一. 函数</h1> <h2 id="_1-匿名函数"><a href="#_1-匿名函数" class="header-anchor">#</a> 1. 匿名函数</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token constant">BBB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">BBB</span><span class="token punctuation">)</span>  <span class="token comment">// function BBB()</span>
<span class="token constant">BBB</span><span class="token operator">=</span><span class="token number">123</span>    <span class="token comment">// 设置无效</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">BBB</span><span class="token punctuation">)</span>  <span class="token comment">// function BBB()</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">BBB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// ReferenceError: BBB is not defined</span>
</code></pre></div><p>1.本应匿名的函数缺设置了函数名，在函数外是无法调用的
但在函数里可以调用
2.类似于创建一个常量，无法修改（在严格模式下去修改，会报错）</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">let</span> <span class="token function-variable function">fn1</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token constant">BBB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token string">&quot;use strict&quot;</span>
<span class="token constant">BBB</span><span class="token operator">=</span><span class="token number">123</span>    <span class="token comment">// TypeError: invalid assignment to const `BBB'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">BBB</span><span class="token punctuation">)</span>  <span class="token comment">// function BBB()</span>
<span class="token punctuation">}</span>
<span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    b<span class="token operator">=</span><span class="token number">20</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">//function b()</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// 20</span>
</code></pre></div></li></ol> <h1 id="十一-运算符"><a href="#十一-运算符" class="header-anchor">#</a> 十一.运算符</h1> <h2 id="_1-严格相等运算符"><a href="#_1-严格相等运算符" class="header-anchor">#</a> 1. === 严格相等运算符</h2> <ol><li><p>如果两个值类型不同，则它们不相等</p></li> <li><p>如果两个值都是null or undefined 则它们不相等</p></li> <li><p>如果两个值都是true or false 则它们相等</p></li> <li><p>如果有一个以上的值是NaN，则它们不相等，NaN于任何值都不相等，包括本身，下面例子就是示范</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> x<span class="token operator">=</span><span class="token number">NaN</span>
x<span class="token operator">!==</span>x  <span class="token comment">// true</span>
</code></pre></div></li> <li><p>如果两个引用值指向同一个对象，数组，或者函数，它们比较的是引用值指向的地址，只要是同一地址，就返回true，否则为false</p></li></ol> <h2 id="_2-相等运算符"><a href="#_2-相等运算符" class="header-anchor">#</a> 2. == 相等运算符</h2> <ol><li><p>如果两个操作数的类型一样，就按严格模式进行比较</p></li> <li><p>特例 null==undefined  遵守ECMAscript规则 返回true，<a href="https://blog.csdn.net/oxcow/article/details/7751835" target="_blank" rel="noopener noreferrer">这里有解释<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>如果其中一个值是true or undefined 则会转换成1 or 0</p></li> <li><p>[12]=='12' 对象和字符串比较，是把对象toString转化为字符串再进行比较</p> <div class="language- extra-class"><pre class="language-text"><code>let a={	
	n:0,
	toString:function(){
		return ++this.n
	}
}
if(a == 1 &amp;&amp; a == 2 &amp;&amp; a==3){
	console.log(1)
}
// 打印出1
</code></pre></div></li> <li><p>其余不同类型比较都是转换成数字</p></li></ol> <h2 id="_3-运算符"><a href="#_3-运算符" class="header-anchor">#</a> 3. &lt;,&gt;运算符</h2> <ol><li>如果是两个字符串，如'23'&lt;'a2' 则会拿出2与a进行比较</li> <li>如果是一个字符串跟数字比较，则字符串会转换成数字再进行比较</li></ol> <h2 id="_4-a"><a href="#_4-a" class="header-anchor">#</a> 4. a++</h2> <ol><li>a++会产生临时变量</li></ol> <div id="vcomments"></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">last updated::</span> <span class="time">3 days ago</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/javascript/预解析.html">预解析</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.0c76bd52.js" defer></script><script src="/assets/js/2.03f0cc1b.js" defer></script><script src="/assets/js/12.b0f4b58a.js" defer></script><script src="/assets/js/5.270935e6.js" defer></script>
  </body>
</html>
